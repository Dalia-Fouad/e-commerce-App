import{a as M}from"./chunk-YT3NGYPD.js";import{a as A,b as p,c as D,d as G,e as V,f as F,h as k,i as j,j as L,m as $}from"./chunk-TFPA5QCA.js";import{g as P}from"./chunk-ZARZFIJP.js";import{Cb as a,Db as T,Jb as N,Mb as b,Na as m,Z as y,aa as x,db as u,fb as E,jb as g,jc as q,nb as n,ob as i,pb as c,ub as R,vb as v}from"./chunk-VV2C2VWU.js";var I=(e,r)=>({"is-valid":e,"is-invalid":r});function O(e,r){e&1&&(n(0,"p",22),a(1,"Name is required"),i())}function z(e,r){e&1&&(n(0,"p",22),a(1,"Name Should be more than or equal 3 chars"),i())}function B(e,r){e&1&&(n(0,"p",22),a(1,"Name Should be less than or equal 20 chars"),i())}function H(e,r){if(e&1&&(n(0,"div",11),u(1,O,2,0,"p",22)(2,z,2,0)(3,B,2,0),i()),e&2){let l,o=v();m(),g(1,(l=o.registerForm.get("name"))!=null&&l.getError("required")?1:(l=o.registerForm.get("name"))!=null&&l.getError("minlength")?2:(l=o.registerForm.get("name"))!=null&&l.getError("maxlength")?3:-1)}}function J(e,r){e&1&&(n(0,"p",22),a(1,"email is required"),i())}function K(e,r){e&1&&(n(0,"p",22),a(1,"Enter Valid Email "),i())}function Q(e,r){if(e&1&&(n(0,"div",11),u(1,J,2,0,"p",22)(2,K,2,0),i()),e&2){let l,o=v();m(),g(1,(l=o.registerForm.get("email"))!=null&&l.getError("required")?1:(l=o.registerForm.get("email"))!=null&&l.getError("email")?2:-1)}}function U(e,r){e&1&&(n(0,"p",22),a(1,"password is required"),i())}function W(e,r){e&1&&(n(0,"p",22),a(1,"must be at least 6 chars"),i())}function X(e,r){if(e&1&&(n(0,"div",11),u(1,U,2,0,"p",22)(2,W,2,0),i()),e&2){let l,o=v();m(),g(1,(l=o.registerForm.get("password"))!=null&&l.getError("required")?1:(l=o.registerForm.get("password"))!=null&&l.getError("pattern")?2:-1)}}function Y(e,r){e&1&&(n(0,"div",11)(1,"p",22),a(2,"Password confirmation is incorrect"),i()())}function Z(e,r){e&1&&(n(0,"p",22),a(1,"phone is required"),i())}function ee(e,r){e&1&&(n(0,"p",22),a(1,"accept only egypt phone numbers "),i())}function te(e,r){if(e&1&&(n(0,"div",11),u(1,Z,2,0,"p",22)(2,ee,2,0),i()),e&2){let l,o=v();m(),g(1,(l=o.registerForm.get("phone"))!=null&&l.getError("required")?1:(l=o.registerForm.get("phone"))!=null&&l.getError("pattern")?2:-1)}}function ie(e,r){e&1&&(n(0,"span"),c(1,"i",23),i())}function ne(e,r){if(e&1&&(n(0,"div",21),a(1),i()),e&2){let l=v();m(),T(l.errorMessage)}}var ge=(()=>{let r=class r{constructor(){this._AuthService=y(M),this._Router=y(P),this.isloading=!1,this.errorMessage="",this.registerForm=new V({name:new F(null,[p.required,p.minLength(3),p.maxLength(20)]),email:new F(null,[p.required,p.email]),password:new F(null,[p.required,p.pattern(/^\w{6,}$/)]),rePassword:new F(null),phone:new F(null,[p.required,p.pattern(/^01[0125][0-9]{8}$/)])},this.confermPassword)}regiterSubmit(){this.registerForm.valid?(this.isloading=!0,this.subscrip=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:o=>{console.log(o),this.isloading=!1,this.errorMessage="",this._Router.navigate(["/login"])},error:o=>{console.log(o.error.message),this.errorMessage=o.error.message,this.isloading=!1}})):this.registerForm.markAllAsTouched(),console.log(this.registerForm.value)}confermPassword(o){return o.get("rePassword")?.value===o.get("password")?.value&&o.get("rePassword")?.value!=null?null:{mismatch:!0}}ngOnDestroy(){this.subscrip?.unsubscribe()}};r.\u0275fac=function(w){return new(w||r)},r.\u0275cmp=x({type:r,selectors:[["app-register"]],standalone:!0,features:[N],decls:38,vars:17,consts:[[1,"mx-auto","my-5"],[1,""],[1,"row","align-items-center","justify-content-end","gy-3"],[1,"col-md-4","d-none","d-sm-block","order-sm-2","order-md-0"],["src","./assets/images/signup-g.svg","alt","signup logo",1,"w-100"],[1,"col-md-7","offset-md-1","shadow-main","p-md-4","pt-4","order-1","card"],[1,"text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-100","mt-1"],["for","email"],["type","text","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","rePassword"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control"],["type","submit",1,"btn-main","d-block","ms-auto","my-2",3,"disabled"],[1,"alert","alert-danger","w-50"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(w,t){if(w&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"img",4),i(),n(5,"div",5)(6,"h3",6),a(7,"Register Now :"),i(),n(8,"form",7),R("ngSubmit",function(){return t.regiterSubmit()}),n(9,"div",8)(10,"label",9),a(11,"name:"),i(),c(12,"input",10),u(13,H,4,1,"div",11),i(),n(14,"div",8)(15,"label",12),a(16,"email:"),i(),c(17,"input",13),u(18,Q,3,1,"div",11),i(),n(19,"div",8)(20,"label",14),a(21,"password:"),i(),c(22,"input",15),u(23,X,3,1,"div",11),i(),n(24,"div",8)(25,"label",16),a(26,"rePassword:"),i(),c(27,"input",17),u(28,Y,3,0,"div",11),i(),n(29,"div",8)(30,"label",18),a(31,"phone:"),i(),c(32,"input",19),u(33,te,3,1,"div",11),i(),n(34,"button",20),a(35,"Register "),u(36,ie,2,0,"span"),i(),u(37,ne,2,1,"div",21),i()()()()()),w&2){let s,_,d,f,C,S,h;m(8),E("formGroup",t.registerForm),m(4),E("ngClass",b(11,I,!((s=t.registerForm.get("name"))!=null&&s.errors)&&(((s=t.registerForm.get("name"))==null?null:s.touched)||((s=t.registerForm.get("name"))==null?null:s.dirty)),((s=t.registerForm.get("name"))==null?null:s.errors)&&(((s=t.registerForm.get("name"))==null?null:s.touched)||((s=t.registerForm.get("name"))==null?null:s.dirty)))),m(),g(13,(_=t.registerForm.get("name"))!=null&&_.errors&&((_=t.registerForm.get("name"))!=null&&_.touched||(_=t.registerForm.get("name"))!=null&&_.dirty)?13:-1),m(4),E("ngClass",b(14,I,!((d=t.registerForm.get("email"))!=null&&d.errors)&&(((d=t.registerForm.get("email"))==null?null:d.touched)||((d=t.registerForm.get("email"))==null?null:d.dirty)),((d=t.registerForm.get("email"))==null?null:d.errors)&&(((d=t.registerForm.get("email"))==null?null:d.touched)||((d=t.registerForm.get("email"))==null?null:d.dirty)))),m(),g(18,(f=t.registerForm.get("email"))!=null&&f.errors&&((f=t.registerForm.get("email"))!=null&&f.touched||(f=t.registerForm.get("email"))!=null&&f.dirty)?18:-1),m(5),g(23,(C=t.registerForm.get("password"))!=null&&C.errors&&((C=t.registerForm.get("password"))!=null&&C.touched||(C=t.registerForm.get("password"))!=null&&C.dirty)?23:-1),m(5),g(28,t.registerForm.getError("mismatch")&&((S=t.registerForm.get("rePassword"))!=null&&S.touched||(S=t.registerForm.get("rePassword"))!=null&&S.dirty)?28:-1),m(5),g(33,(h=t.registerForm.get("phone"))!=null&&h.errors&&((h=t.registerForm.get("phone"))!=null&&h.touched||(h=t.registerForm.get("phone"))!=null&&h.dirty)?33:-1),m(),E("disabled",t.isloading),m(2),g(36,t.isloading?36:-1),m(),g(37,t.errorMessage?37:-1)}},dependencies:[$,k,A,D,G,j,L,q]});let e=r;return e})();export{ge as RegisterComponent};
